

<section class="register-section">
  <div class="register-container">

    <form [formGroup]="registerForm" (ngSubmit)="registerSubmit()" class="register-form">

      <!-- Ninja Tracker -->
      <div class="ninja-tracker">
        <div class="track-line">
          <div class="track-fill" [style.width]="progressWidth"></div>
        </div>

        <div class="steps-container">
          <!-- Step 1 -->
          <div class="step" [class.active]="currentStep === 1" [class.completed]="currentStep > 1">
            <span *ngIf="currentStep <= 1">1</span>
            <i *ngIf="currentStep > 1" class="fas fa-check"></i>
          </div>

          <!-- Step 2 -->
          <div class="step" [class.active]="currentStep === 2" [class.completed]="currentStep > 2">
            <span *ngIf="currentStep <= 2">2</span>
            <i *ngIf="currentStep > 2" class="fas fa-check"></i>
          </div>

          <!-- Step 3 -->
          <div class="step" [class.active]="currentStep === 3" [class.completed]="currentStep > 3">
            <span *ngIf="currentStep <= 3">3</span>
            <i *ngIf="currentStep > 3" class="fas fa-check"></i>
          </div>

          <!-- Step 4 -->
          <div class="step" [class.active]="currentStep === 4" [class.completed]="currentStep > 4">
            <span *ngIf="currentStep <= 4">4</span>
            <i *ngIf="currentStep > 4" class="fas fa-check"></i>
          </div>
        </div>

        <!-- The Ninja Character -->
        <div class="ninja-wrapper" [ngClass]="'pos-' + currentStep">
          <div class="ninja-character">
            <img src="./assets/imgs/ninja.png" alt="Ninja">
          </div>
        </div>
      </div>

      <!-- Grid Container for Inputs -->
      <div class="form-grid">
        <!-- Input Group 1: Username -->
        <div class="input-group">
          <input type="text" id="username" formControlName="userName" placeholder=" " autocomplete="off"
            (focus)="setStep(1)">
          <label for="username">Username</label>
          <i class="fas fa-user input-icon"></i>
        </div>

        <!-- Input Group 2: Email -->
        <div class="input-group">
          <input type="email" id="email" formControlName="email" placeholder=" " autocomplete="off"
            (focus)="setStep(2)">
          <label for="email">Email</label>
          <i class="fas fa-envelope input-icon"></i>
        </div>

        <!-- Input Group 3: Password -->
        <div class="input-group">
          <input [type]="isPasswordVisible ? 'text' : 'password'" id="password" formControlName="password"
            placeholder=" " autocomplete="off" (focus)="setStep(3)">
          <label for="password">Password</label>
          <i class="fas fa-lock input-icon"></i>

          <!-- Toggle Visibility Icon -->
          <i [ngClass]="isPasswordVisible ? 'fa-eye-slash' : 'fa-eye'" class="fas password-toggle-icon"
            (click)="togglePasswordVisibility()">
          </i>
        </div>

        <!-- Input Group 4: Role -->
        <div class="input-group">
          <div class="select-wrapper">
            <select id="role" formControlName="role" (focus)="setStep(4)">
              <option value="null" disabled selected></option>
              <option value="Admin">Admin</option>
              <option value="Employee">Employee</option>
              <option value="Manager">Manager</option>
            </select>
            <label for="role">Role</label>
            <i class="fas fa-briefcase input-icon"></i>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="submit-btn">
        Create Account
      </button>

      <p class="switch-auth">
        Already have an account? <span (click)="goToLogin()">Login</span>
      </p>

    </form>
  </div>
</section>
